<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Marksheet Dashboard</title>
    <!-- Import Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for a slightly better look */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Add a subtle animation for rows appearing */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in-row {
            animation: fadeIn 0.3s ease-out;
        }

        /* Styles for Admin Mode (No longer used, but harmless) */
        #admin-panel,
        .admin-action {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-900">

    <!-- Header -->
    <header class="bg-white shadow-md">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <h1 class="text-2xl font-bold text-blue-600">Student Marksheet Dashboard</h1>
                <!-- Admin and Status indicators removed -->
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Grid container -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

            <!-- Column 1: Add Student Form (REMOVED) -->
            
            <!-- Column 2: Student List Table -->
            <!-- This container now spans the full width -->
            <div class="lg:col-span-3 bg-white p-6 rounded-lg shadow-lg" id="student-list-container">
                <div class="flex flex-col sm:flex-row justify-between items-center mb-4 border-b pb-2">
                    <h2 class="text-xl font-semibold">Student List</h2>
                    <div class="mt-2 sm:mt-0 w-full sm:w-auto">
                        <input type="text" id="search-input" placeholder="Search by name, ID, roll..." class="block w-full sm:w-64 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                    </div>
                </div>
                
                <!-- This container ensures the table is responsive -->
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <!-- Columns reordered as per user request -->
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Student ID</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Registration</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Roll</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Marksheet</th>
                            </tr>
                        </thead>
                        <tbody id="student-list" class="bg-white divide-y divide-gray-200">
                            <!-- Rows will be dynamically inserted here by JavaScript -->
                            <tr>
                                <!-- Colspan updated from 6 to 5 -->
                                <td colspan="5" class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">
                                    Loading student data...
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </main>

    <!-- All Modals (Delete, Edit, Admin Login) have been REMOVED -->

    
    <!-- App JavaScript -->
    <script>
        // --- Hardcoded Student Data ---
        // Data extracted from the user's image
        const studentDataCache = new Map();
        studentDataCache.set('doc1', {
            name: "ALIZA NUSRAT KHAN",
            studentId: "231048",
            roll: "117935",
            registration: "2010944688",
            marksheetUrl: "https://example.com/marksheet/231048.pdf"
        });
        studentDataCache.set('doc2', {
            name: "ANIKA TABASSUM RAHI",
            studentId: "231063",
            roll: "117234",
            registration: "2011557767",
            marksheetUrl: "https://example.com/marksheet/231063.pdf"
        });
        studentDataCache.set('doc3', {
            name: "SANJANA AFROJ ZAMI",
            studentId: "231107",
            roll: "117255",
            registration: "2010946156",
            marksheetUrl: "https://example.com/marksheet/231107.pdf"
        });
        studentDataCache.set('doc4', {
            name: "BEGUM SARA TASNIM",
            studentId: "231112",
            roll: "117260",
            registration: "2010911545",
            marksheetUrl: "https://example.com/marksheet/231112.pdf"
        });
        studentDataCache.set('doc5', {
            name: "NABILA NAZNIN",
            studentId: "231119",
            roll: "117267",
            registration: "2010945405",
            marksheetUrl: "https://example.com/marksheet/231119.pdf"
        });
        studentDataCache.set('doc6', {
            name: "SAIARA NOOR",
            studentId: "231127",
            roll: "117764",
            registration: "2010959742",
            marksheetUrl: "https://example.com/marksheet/231127.pdf"
        });
        studentDataCache.set('doc7', {
            name: "MISRAT JAHAN MUMU",
            studentId: "231146",
            roll: "117287",
            registration: "2010945174",
            marksheetUrl: "https://example.com/marksheet/231146.pdf"
        });
        studentDataCache.set('doc8', {
            name: "MUSFIKA NAJNIN",
            studentId: "231171",
            roll: "117311",
            registration: "2010617163",
            marksheetUrl: "https://example.com/marksheet/231171.pdf"
        });
        studentDataCache.set('doc9', {
            name: "MST MOMTAHINA AHMED RIANTA",
            studentId: "231199",
            roll: "117932",
            registration: "2010989733",
            marksheetUrl: "https://example.com/marksheet/231199.pdf"
        });
        studentDataCache.set('doc10', {
            name: "TANZINA ISLAM",
            studentId: "231209",
            roll: "117321",
            registration: "2010945227",
            marksheetUrl: "https://example.com/marksheet/231209.pdf"
        });
        studentDataCache.set('doc11', {
            name: "UMME HANI",
            studentId: "231254",
            roll: "117365",
            registration: "2012834507",
            marksheetUrl: "https://example.com/marksheet/231254.pdf"
        });
        studentDataCache.set('doc12', {
            name: "ISHRAT JAHAN IRIN",
            studentId: "231394",
            roll: "117498",
            registration: "2010637755",
            marksheetUrl: "https://example.com/marksheet/231394.pdf"
        });
        studentDataCache.set('doc13', {
            name: "ZARIN TASNIM",
            studentId: "231406",
            roll: "117510",
            registration: "2010884364",
            marksheetUrl: "https://example.com/marksheet/231406.pdf"
        });
        studentDataCache.set('doc14', {
            name: "FARIA SHARMEEN MOUMITA",
            studentId: "231433",
            roll: "117537",
            registration: "2010962931",
            marksheetUrl: "https://example.com/marksheet/231433.pdf"
        });
        studentDataCache.set('doc15', {
            name: "ZOBAIDA AKTER",
            studentId: "231442",
            roll: "117546",
            registration: "2010594153",
            marksheetUrl: "https://example.com/marksheet/231442.pdf"
        });
        studentDataCache.set('doc16', {
            name: "MAHERU JAMAL LAMYIA",
            studentId: "231447",
            roll: "117551",
            registration: "2010945421",
            marksheetUrl: "https://example.com/marksheet/231447.pdf"
        });
        studentDataCache.set('doc17', {
            name: "ABIDA ALAVI AHOUNA",
            studentId: "231449",
            roll: "117553",
            registration: "2017798235",
            marksheetUrl: "https://example.com/marksheet/231449.pdf"
        });
        studentDataCache.set('doc18', {
            name: "SAYADA TABASSUM ISLAM",
            studentId: "231465",
            roll: "117569",
            registration: "2010944820",
            marksheetUrl: "https://example.com/marksheet/231465.pdf"
        });
        studentDataCache.set('doc19', {
            name: "HOSSAIN ADRITA EMROSE",
            studentId: "231478",
            roll: "117582",
            registration: "2013628390",
            marksheetUrl: "https://example.com/marksheet/231478.pdf"
        });
        studentDataCache.set('doc20', {
            name: "MST. NADIA YASMIN",
            studentId: "231479",
            roll: "117583",
            registration: "2013589723",
            marksheetUrl: "https://example.com/marksheet/231479.pdf"
        });
        studentDataCache.set('doc21', {
            name: "ASHFIHA ZAMAN TWAHA",
            studentId: "231480",
            roll: "117584",
            registration: "2013584703",
            marksheetUrl: "https://example.com/marksheet/231480.pdf"
        });
        studentDataCache.set('doc22', {
            name: "MUMTAHINAH SURAYA HOSSAIN",
            studentId: "231527",
            roll: "117630",
            registration: "2010959153",
            marksheetUrl: "https://example.com/marksheet/231527.pdf"
        });
        studentDataCache.set('doc23', {
            name: "TOHFA SARA",
            studentId: "231563",
            roll: "117666",
            registration: "2015138781",
            marksheetUrl: "https://example.com/marksheet/231563.pdf"
        });
        studentDataCache.set('doc24', {
            name: "SANJIDA JAHAN URMI",
            studentId: "231593",
            roll: "117683",
            registration: "2012751321",
            marksheetUrl: "https://example.com/marksheet/231593.pdf"
        });
        studentDataCache.set('doc25', {
            name: "SADIA ISLAM TRISHA",
            studentId: "231601",
            roll: "117686",
            registration: "2010652656",
            marksheetUrl: "https://example.com/marksheet/231601.pdf"
        });
        studentDataCache.set('doc26', {
            name: "SAIFUR RAHMAN SAZZAD",
            studentId: "232008",
            roll: "118033",
            registration: "2010944332",
            marksheetUrl: "https://example.com/marksheet/232008.pdf"
        });
        studentDataCache.set('doc27', {
            name: "TAHSIN BIN ALOM SHADHIN",
            studentId: "232109",
            roll: "118128",
            registration: "2010947033",
            marksheetUrl: "https://example.com/marksheet/232109.pdf"
        });
        studentDataCache.set('doc28', {
            name: "MOHTASIN BIN FARUK LIPU",
            studentId: "232189",
            roll: "118792",
            registration: "2010947264",
            marksheetUrl: "https://example.com/marksheet/232189.pdf"
        });
        studentDataCache.set('doc29', {
            name: "TOKI TAHMEDUL ISLAM",
            studentId: "232279",
            roll: "118282",
            registration: "2010947315",
            marksheetUrl: "https://example.com/marksheet/232279.pdf"
        });
        studentDataCache.set('doc30', {
            name: "SYED RIDOAN HOSSAIN RADID",
            studentId: "232280",
            roll: "118283",
            registration: "2010946229",
            marksheetUrl: "https://example.com/marksheet/232280.pdf"
        });
        studentDataCache.set('doc31', {
            name: "JWEL RANA",
            studentId: "232375",
            roll: "118374",
            registration: "2010865490",
            marksheetUrl: "https://example.com/marksheet/232375.pdf"
        });
        studentDataCache.set('doc32', {
            name: "MOHAMMAD FAHIM FAISAL RAFID",
            studentId: "232383",
            roll: "118382",
            registration: "2017608901",
            marksheetUrl: "https://example.com/marksheet/232383.pdf"
        });
        studentDataCache.set('doc33', {
            name: "ABDULLA AL SHOUROV",
            studentId: "232504",
            roll: "118498",
            registration: "2015229294",
            marksheetUrl: "https://example.com/marksheet/232504.pdf"
        });
        studentDataCache.set('doc34', {
            name: "SHAHRIAR NAFIS",
            studentId: "232508",
            roll: "118502",
            registration: "2021012388",
            marksheetUrl: "https://example.com/marksheet/232508.pdf"
        });
        studentDataCache.set('doc35', {
            name: "MD. SHAIBANY RAHMAN SHISH",
            studentId: "232549",
            roll: "118542",
            registration: "2021076768",
            marksheetUrl: "https://example.com/marksheet/232549.pdf"
        });
        studentDataCache.set('doc36', {
            name: "MD. ARIFULLAH AL ANAS",
            studentId: "232564",
            roll: "118555",
            registration: "2012752233",
            marksheetUrl: "https://example.com/marksheet/232564.pdf"
        });
        studentDataCache.set('doc37', {
            name: "JUNAYED AHMED",
            studentId: "232618",
            roll: "118609",
            registration: "2010947575",
            marksheetUrl: "https://example.com/marksheet/232618.pdf"
        });
        studentDataCache.set('doc38', {
            name: "MD. ABU NUMAYER SIAN",
            studentId: "232648",
            roll: "118637",
            registration: "2017800407",
            marksheetUrl: "https://example.com/marksheet/232648.pdf"
        });
        studentDataCache.set('doc39', {
            name: "MD. HANZALA MAHMUD",
            studentId: "232705",
            roll: "118693",
            registration: "2015148639",
            marksheetUrl: "https://example.com/marksheet/232705.pdf"
        });
        studentDataCache.set('doc40', {
            name: "JURIANI RASEL HRIDOM",
            studentId: "232734",
            roll: "118005",
            registration: "2010901066",
            marksheetUrl: "https://example.com/marksheet/232734.pdf"
        });
        studentDataCache.set('doc41', {
            name: "MD. ABDULLAH",
            studentId: "232744",
            roll: "118985",
            registration: "2018981343",
            marksheetUrl: "https://example.com/marksheet/232744.pdf"
        });
        studentDataCache.set('doc42', {
            name: "ABU JAR GIFARI AKAND",
            studentId: "232781",
            roll: "118000",
            registration: "2010947460",
            marksheetUrl: "https://example.com/marksheet/232781.pdf"
        });
        studentDataCache.set('doc43', {
            name: "RAGIBUL MAHMUD JANASI",
            studentId: "232785",
            roll: "119021",
            registration: "2016345007",
            marksheetUrl: "https://example.com/marksheet/232785.pdf"
        });
        studentDataCache.set('doc44', {
            name: "MD. ISMAIL HOSSAIN",
            studentId: "232793",
            roll: "118761",
            registration: "2010946230",
            marksheetUrl: "https://example.com/marksheet/232793.pdf"
        });
        studentDataCache.set('doc45', {
            name: "MD. GALIBUL ISLAM",
            studentId: "232815",
            roll: "118008",
            registration: "2010947623",
            marksheetUrl: "https://example.com/marksheet/232815.pdf"
        });


        // --- DOM References ---
        const studentListBody = document.getElementById('student-list');
        const searchInput = document.getElementById('search-input');
        const studentListContainer = document.getElementById('student-list-container');

        // --- Main App Function ---
        function main() {
            // Note: Layout is already full-width due to lg:col-span-3,
            // but we'll keep this in case the class was different.
            studentListContainer.classList.remove('lg:col-span-2');
            studentListContainer.classList.add('lg:col-span-3');

            // --- Setup Search Listener ---
            searchInput.addEventListener('input', () => {
                renderTable(); // Re-render the table on every keystroke
            });

            // Initial render
            renderTable();
            
            console.log("Static dashboard initialized.");
        }

        // --- Render: Re-filter and render the entire table ---
        function renderTable() {
            const searchTerm = searchInput.value.toLowerCase().trim();
            
            // Clear existing table data
            studentListBody.innerHTML = '';
            
            if (studentDataCache.size === 0) {
                studentListBody.innerHTML = `
                    <tr>
                        <td colspan="5" class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">
                            No student data found.
                        </td>
                    </tr>
                `;
                return;
            }

            let resultsFound = false;
            
            // Loop through the *cached* data and render
            studentDataCache.forEach((student, docId) => {
                // Search logic remains the same, checking all properties
                const name = student.name ? student.name.toLowerCase() : '';
                const studentId = student.studentId ? student.studentId.toLowerCase() : '';
                const roll = student.roll ? student.roll.toLowerCase() : '';
                const registration = student.registration ? student.registration.toLowerCase() : '';

                const matchesSearch = searchTerm === '' ||
                                      name.includes(searchTerm) ||
                                      studentId.includes(searchTerm) ||
                                      roll.includes(searchTerm) ||
                                      registration.includes(searchTerm);

                if (matchesSearch) {
                    renderStudentRow(docId, student);
                    resultsFound = true;
                }
            });

            if (!resultsFound && searchTerm !== '') {
                 studentListBody.innerHTML = `
                    <tr>
                        <td colspan="5" class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">
                            No students match your search for "${searchInput.value}".
                        </td>
                    </tr>
                `;
            }
        }

        // --- Render: Create and append a table row for a student ---
        function renderStudentRow(docId, student) {
            const tr = document.createElement('tr');
            tr.className = 'fade-in-row'; // Add animation class
            tr.setAttribute('data-id', docId);

            // Format marksheet URL into a viewable link
            const url = student.marksheetUrl;
            const marksheetCellHtml = url 
                ? `<a href="${url}" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 hover:underline">View PDF</a>`
                : `<span class="text-gray-400">N/A</span>`;

            // Row cells reordered to match the new header
            tr.innerHTML = `
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${student.studentId}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${student.name}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${student.registration}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${student.roll}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${marksheetCellHtml}</td>
            `;
            
            studentListBody.appendChild(tr);
        }

        // --- Run the app ---
        // Run after DOM is loaded
        document.addEventListener('DOMContentLoaded', main);

    </script>
</body>
</html>